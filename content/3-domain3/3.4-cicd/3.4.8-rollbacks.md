---
title: "3.4.8 Application Rollbacks"
date: 2025-02-11
weight: 8
---

## Perform Application Rollbacks

### Per Service

| Service | Rollback Method |
|---------|----------------|
| CodeDeploy | Auto on failure/alarm, redeploy previous |
| CloudFormation | Auto on failure, `--disable-rollback` for debug |
| Lambda | Update alias to previous version |
| ECS | Route traffic to original task set |
| Beanstalk | Redeploy previous version |

### CodeDeploy Auto Rollback

```yaml
DeploymentPreference:
  Type: Canary10Percent5Minutes
  Alarms:
    - !Ref ErrorAlarm
```

- Triggers: Deployment failure, CloudWatch alarm
- Action: Redeploy last known good revision

### Lambda Rollback

```bash
aws lambda update-alias --function-name my-func \
  --name prod --function-version 5  # Previous version
```

### CloudFormation Rollback

```bash
# Stuck in UPDATE_ROLLBACK_FAILED
aws cloudformation continue-update-rollback \
  --stack-name my-stack \
  --resources-to-skip BrokenResource
```

{{% notice tip %}}
**Exam Tip:** CodeDeploy + Alarms = auto rollback. Lambda = update alias. CloudFormation `continue-update-rollback` for stuck stacks.
{{% /notice %}}
