---
title: "3.4.7 Orchestrated Workflows for Deployment"
date: 2025-02-11
weight: 7
---

## Use Orchestrated Workflows to Deploy Code

### CodePipeline Multi-Environment

```text
Source → Build → Deploy Dev → Manual Approval → Deploy Prod
```

### Manual Approval

```yaml
- Name: Approval
  Actions:
    - Name: ManualApproval
      ActionTypeId:
        Category: Approval
        Provider: Manual
      Configuration:
        NotificationArn: !Ref ApprovalTopic
        CustomData: "Review changes before prod deploy"
```

### Cross-Account Deployment

```text
Dev Account → Build → Artifact (S3)
                    → Assume Role in Prod Account
                    → Deploy to Prod
```

- CodePipeline cross-account actions
- S3 artifact bucket with cross-account access
- KMS key shared between accounts

### Step Functions for Complex Workflows

```text
Build → Run Tests → (Pass?) → Deploy Canary → Monitor → Full Deploy
                  → (Fail?) → Notify → Stop
```

{{% notice tip %}}
**Exam Tip:** Manual Approval for production gates. Cross-account deployment via IAM roles. CodePipeline stages for sequential environments.
{{% /notice %}}
