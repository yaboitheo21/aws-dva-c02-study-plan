---
title: "3.2.1 Test Deployed Code"
date: 2025-02-11
weight: 1
---

## Test Deployed Code by Using AWS Services and Tools

### SAM CLI

| Command | Mô tả |
|---------|-------|
| `sam local invoke` | Run Lambda locally |
| `sam local start-api` | Local API Gateway |
| `sam local start-lambda` | Local Lambda endpoint |
| `sam local generate-event` | Generate sample events |
| `sam validate` | Validate template |
| `sam build` | Build dependencies |

### Testing Flow

```bash
sam build
sam local generate-event apigateway aws-proxy > events/api.json
sam local invoke MyFunction -e events/api.json
sam local start-api --port 3000
```

### Lambda Console Testing

- Create test events from templates
- Shareable test events in account
- View: execution result, logs, duration, memory

### AWS CloudShell

Browser-based shell environment trong AWS Console, pre-configured với AWS CLI và common tools.

| Feature | Mô tả |
|---------|-------|
| Pre-installed | AWS CLI, Python, Node.js, pip, npm, git |
| Storage | 1 GB persistent storage per region |
| Credentials | Tự động dùng console login credentials |
| Cost | Free (no additional charges) |
| Timeout | Session expires sau 20 min idle |
| File transfer | Upload/download files (max 1GB) |

```bash
# CloudShell — no credential setup needed
aws lambda invoke --function-name my-function \
  --payload '{"key": "value"}' output.json

# Test API Gateway
curl https://api-id.execute-api.region.amazonaws.com/dev/orders

# Quick DynamoDB check
aws dynamodb scan --table-name Orders --max-items 5
```

- Không cần install AWS CLI locally
- Useful cho quick testing, debugging, ad-hoc commands
- Supports multiple tabs

### CLI Testing (Local hoặc CloudShell)

```bash
# Invoke deployed Lambda
aws lambda invoke --function-name my-function \
  --payload '{"key": "value"}' output.json

# Test API Gateway
curl https://api-id.execute-api.region.amazonaws.com/dev/orders
```

{{% notice tip %}}
**Exam Tip:** `sam local invoke` = local test. `aws lambda invoke` = test deployed function. Console test events for quick validation.
{{% /notice %}}
